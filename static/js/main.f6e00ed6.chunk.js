(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{2:function(e,a,t){e.exports={loader:"loaderStyles_loader__1i1DT",l_main:"loaderStyles_l_main__1WtUu",l_square:"loaderStyles_l_square__swFFi",animsquare1:"loaderStyles_animsquare1__1GIGV",animsquare2:"loaderStyles_animsquare2__3-k6w",animsquare3:"loaderStyles_animsquare3__18GJi",animsquare4:"loaderStyles_animsquare4__2qVIv",title:"loaderStyles_title__2PIKu"}},26:function(e,a,t){e.exports=t(56)},4:function(e,a,t){e.exports={ul:"imageGalleryStyles_ul__3vnNv",img:"imageGalleryStyles_img__P0MjU",li:"imageGalleryStyles_li__1f7Yl"}},56:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(18),o=t.n(r),c=t(5),i=t(19),s=t(20),m=t(21),u=t(25),d=t(24),p=t(6),_=t.n(p),g=function(e){var a=e.hanldeSearchQuery,t=e.input,n=e.handleSubmit;return l.a.createElement("nav",null,l.a.createElement("form",{className:_.a.nav,onSubmit:n},l.a.createElement("input",{placeholder:"Find your img...",className:_.a.input,onChange:a,type:"text",name:"input",value:t})))},h=t(22),f=t.n(h),E=function(e,a){return f.a.get("".concat("https://pixabay.com/api/?key=").concat("&key=15900106-2c235e732bb321ca7ec900d93","&q=").concat(e,"&page=").concat(a).concat("&per_page=12"))},v=function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},S=t(23),y=t.n(S),b=t(4),M=t.n(b),N=function(e){var a=e.imgArr,t=e.openModal;return l.a.createElement("ul",{className:M.a.ul},a.map((function(e){var a=e.webformatURL,n=e.tags;return l.a.createElement("li",{className:M.a.li,key:y.a.generate()},l.a.createElement("img",{onClick:t,className:M.a.img,src:a,alt:n}))})))},q=t(7),O=t.n(q),w=function(e){var a=e.loadMore;return l.a.createElement("div",{className:O.a.btnWrap},l.a.createElement("button",{className:O.a.btn,type:"button",onClick:a},"Load More"))},k=t(8),A=t.n(k),C=function(e){var a=e.onOpenModal,t=e.onCloseModal;return l.a.createElement("div",{onClick:t,className:A.a.div},l.a.createElement("img",{className:A.a.img,src:a,alt:""}))},j=t(2),x=t.n(j),I=function(){return l.a.createElement("div",{className:x.a.loader},l.a.createElement("h1",{className:x.a.title},"Loading..."),l.a.createElement("div",{className:x.a.l_main},l.a.createElement("div",{className:x.a.l_square},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("div",{className:x.a.l_square},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("div",{className:x.a.l_square},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("div",{className:x.a.l_square},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))))},G=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={imgArr:[],input:"",page:1,openModal:!1,modalImg:"",load:!1},e.hanldeSearchQuery=function(a){e.setState(Object(i.a)({},a.target.name,a.target.value)),a.target.value!==e.state.input&&e.setState({imgArr:[]})},e.handleSubmit=function(a){a.preventDefault(),e.setState({load:!0});var t=e.state,n=t.input,l=t.page;E(n,l).then((function(a){var t=a.data.hits;e.state.imgArr.length?e.setState((function(e){return{imgArr:[].concat(Object(c.a)(e.imgArr),Object(c.a)(t))}})):e.setState({imgArr:Object(c.a)(t)})})).catch((function(e){return console.log(e)})).finally((function(){e.setState({load:!1})}))},e.handleLoadMore=function(a){e.setState((function(e){return{page:e.page+1}})),e.handleSubmit(a)},e.handleOpenModal=function(a){var t=a.target;e.setState({openModal:!0,modalImg:t.currentSrc})},e.handleCloseModal=function(a){"img"!==a.target.localName&&e.setState({openModal:!1})},e.componentDidUpdate=function(a){e.state.page>1&&!0===e.state.load&&v()},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.imgArr,t=e.input,n=e.openModal,r=e.modalImg,o=e.load;return l.a.createElement("div",null,l.a.createElement(g,{handleSubmit:this.handleSubmit,hanldeSearchQuery:this.hanldeSearchQuery,input:t}),l.a.createElement(N,{imgArr:a,openModal:this.handleOpenModal}),!!a.length&&l.a.createElement(w,{loadMore:this.handleLoadMore}),!0===n&&l.a.createElement(C,{onOpenModal:r,onCloseModal:this.handleCloseModal}),!0===o&&l.a.createElement(I,null))}}]),t}(n.Component);o.a.render(l.a.createElement(G,null),document.getElementById("root"))},6:function(e,a,t){e.exports={nav:"searchbarStyle_nav__3fCQe",input:"searchbarStyle_input__1fwxJ"}},7:function(e,a,t){e.exports={btnWrap:"buttonStyles_btnWrap__1RXS1",btn:"buttonStyles_btn__3U2dH"}},8:function(e,a,t){e.exports={div:"modalStyles_div__g73W9",img:"modalStyles_img__30lEh"}}},[[26,1,2]]]);
//# sourceMappingURL=main.f6e00ed6.chunk.js.map